<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.3"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>NanoShell: C:/working/NanoShellOS/include/vfs.h Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">NanoShell<span id="projectnumber">&#160;0.20</span>
   </div>
   <div id="projectbrief">a 32-bit multitasked kernel-mode free operating system</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.3 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search",'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('vfs_8h_source.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle"><div class="title">vfs.h</div></div>
</div><!--header-->
<div class="contents">
<a href="vfs_8h.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a id="l00001" name="l00001"></a><span class="lineno">    1</span><span class="comment">/*****************************************</span></div>
<div class="line"><a id="l00002" name="l00002"></a><span class="lineno">    2</span><span class="comment">        NanoShell Operating System</span></div>
<div class="line"><a id="l00003" name="l00003"></a><span class="lineno">    3</span><span class="comment">          (C) 2022 iProgramInCpp</span></div>
<div class="line"><a id="l00004" name="l00004"></a><span class="lineno">    4</span><span class="comment"></span> </div>
<div class="line"><a id="l00005" name="l00005"></a><span class="lineno">    5</span><span class="comment">   Virtual FileSystem module headerfile</span></div>
<div class="line"><a id="l00006" name="l00006"></a><span class="lineno">    6</span><span class="comment">******************************************/</span></div>
<div class="line"><a id="l00007" name="l00007"></a><span class="lineno">    7</span><span class="preprocessor">#ifndef _VFS_H</span></div>
<div class="line"><a id="l00008" name="l00008"></a><span class="lineno">    8</span><span class="preprocessor">#define _VFS_H</span></div>
<div class="line"><a id="l00009" name="l00009"></a><span class="lineno">    9</span> </div>
<div class="line"><a id="l00010" name="l00010"></a><span class="lineno">   10</span><span class="preprocessor">#include &lt;<a class="code" href="main_8h.html">main.h</a>&gt;</span></div>
<div class="line"><a id="l00011" name="l00011"></a><span class="lineno">   11</span> </div>
<div class="line"><a id="l00012" name="l00012"></a><span class="lineno">   12</span><span class="keyword">struct </span><a class="code hl_struct" href="struct_f_s_node_s.html">FSNodeS</a>;</div>
<div class="line"><a id="l00013" name="l00013"></a><span class="lineno">   13</span><span class="keyword">struct </span><a class="code hl_struct" href="struct_dir_ent_s.html">DirEntS</a>;</div>
<div class="line"><a id="l00014" name="l00014"></a><span class="lineno">   14</span> </div>
<div class="line"><a id="l00015" name="l00015"></a><span class="lineno"><a class="line" href="vfs_8h.html#ae688d728e1acdfe5988c7db45d6f0166">   15</a></span><span class="preprocessor">#define PATH_MAX (260)</span></div>
<div class="line"><a id="l00016" name="l00016"></a><span class="lineno"><a class="line" href="vfs_8h.html#a837df2c29aacf37cb96c2b65acb312a6">   16</a></span><span class="preprocessor">#define PATH_SEP (&#39;/&#39;)</span></div>
<div class="line"><a id="l00017" name="l00017"></a><span class="lineno"><a class="line" href="vfs_8h.html#a5ec09f9368617c68edb7fbf69f2e3b72">   17</a></span><span class="preprocessor">#define PATH_THISDIR (&quot;.&quot;</span>)</div>
<div class="line"><a id="l00018" name="l00018"></a><span class="lineno"><a class="line" href="vfs_8h.html#ac6a7c3a9de13e44632ba2e7325476a77">   18</a></span><span class="preprocessor">#define PATH_PARENTDIR (&quot;..&quot;</span>)</div>
<div class="line"><a id="l00019" name="l00019"></a><span class="lineno">   19</span> </div>
<div class="line"><a id="l00020" name="l00020"></a><span class="lineno"><a class="line" href="vfs_8h.html#ac377ebe0dcf7840504416509b2d39f76">   20</a></span><span class="preprocessor">#define FS_DEVICE_NAME &quot;Device&quot;</span></div>
<div class="line"><a id="l00021" name="l00021"></a><span class="lineno"><a class="line" href="vfs_8h.html#a2ea3b2cb7f1fef00404fd11885e87de9">   21</a></span><span class="preprocessor">#define FS_FSROOT_NAME &quot;FSRoot&quot;</span></div>
<div class="line"><a id="l00022" name="l00022"></a><span class="lineno">   22</span> </div>
<div class="line"><a id="l00023" name="l00023"></a><span class="lineno"><a class="line" href="vfs_8h.html#a15392f5364f7425948d6c8ea0f13ac84">   23</a></span><span class="preprocessor">#define FD_MAX 1024</span></div>
<div class="line"><a id="l00024" name="l00024"></a><span class="lineno">   24</span> </div>
<div class="line"><a id="l00025" name="l00025"></a><span class="lineno">   25</span><span class="keyword">enum</span></div>
<div class="line"><a id="l00026" name="l00026"></a><span class="lineno">   26</span>{</div>
<div class="line"><a id="l00027" name="l00027"></a><span class="lineno"><a class="line" href="vfs_8h.html#aabfcbcb5ac86a1edac4035264bc7d2b8a7ffdb30f25ede8af4426c8619eaf4e7d">   27</a></span>    <a class="code hl_enumvalue" href="vfs_8h.html#aabfcbcb5ac86a1edac4035264bc7d2b8a7ffdb30f25ede8af4426c8619eaf4e7d">FILE_TYPE_NONE</a> = 0,</div>
<div class="line"><a id="l00028" name="l00028"></a><span class="lineno"><a class="line" href="vfs_8h.html#aabfcbcb5ac86a1edac4035264bc7d2b8a0fa88135dba520076ded539764367d2c">   28</a></span>    <a class="code hl_enumvalue" href="vfs_8h.html#aabfcbcb5ac86a1edac4035264bc7d2b8a0fa88135dba520076ded539764367d2c">FILE_TYPE_FILE</a>,</div>
<div class="line"><a id="l00029" name="l00029"></a><span class="lineno"><a class="line" href="vfs_8h.html#aabfcbcb5ac86a1edac4035264bc7d2b8a5b319bd179eb63c1ccfb04fdb6e44c68">   29</a></span>    <a class="code hl_enumvalue" href="vfs_8h.html#aabfcbcb5ac86a1edac4035264bc7d2b8a5b319bd179eb63c1ccfb04fdb6e44c68">FILE_TYPE_CHAR_DEVICE</a>,</div>
<div class="line"><a id="l00030" name="l00030"></a><span class="lineno"><a class="line" href="vfs_8h.html#aabfcbcb5ac86a1edac4035264bc7d2b8ab47aa0fdf5ad0deb5351543546e9a0af">   30</a></span>    <a class="code hl_enumvalue" href="vfs_8h.html#aabfcbcb5ac86a1edac4035264bc7d2b8ab47aa0fdf5ad0deb5351543546e9a0af">FILE_TYPE_BLOCK_DEVICE</a>,</div>
<div class="line"><a id="l00031" name="l00031"></a><span class="lineno"><a class="line" href="vfs_8h.html#aabfcbcb5ac86a1edac4035264bc7d2b8ac14b3e526f285e88c958a671141f1e02">   31</a></span>    <a class="code hl_enumvalue" href="vfs_8h.html#aabfcbcb5ac86a1edac4035264bc7d2b8ac14b3e526f285e88c958a671141f1e02">FILE_TYPE_DIRECTORY</a>  = 8,</div>
<div class="line"><a id="l00032" name="l00032"></a><span class="lineno">   32</span>    <a class="code hl_enumvalue" href="vfs_8h.html#aabfcbcb5ac86a1edac4035264bc7d2b8a4c8d510546410bd6bec4a7ce23d1843a">FILE_TYPE_MOUNTPOINT</a> = 16 <span class="comment">//to be OR&#39;d into the other flags</span></div>
<div class="line"><a id="l00033" name="l00033"></a><span class="lineno"><a class="line" href="vfs_8h.html#aabfcbcb5ac86a1edac4035264bc7d2b8a4c8d510546410bd6bec4a7ce23d1843a">   33</a></span>};</div>
<div class="line"><a id="l00034" name="l00034"></a><span class="lineno">   34</span> </div>
<div class="line"><a id="l00035" name="l00035"></a><span class="lineno"><a class="line" href="vfs_8h.html#a55feff522d7c1c7a6755cc19def18473">   35</a></span><span class="preprocessor">#define PERM_READ  (1)</span></div>
<div class="line"><a id="l00036" name="l00036"></a><span class="lineno"><a class="line" href="vfs_8h.html#a386241abb1ca8b97e859286f4538f3c8">   36</a></span><span class="preprocessor">#define PERM_WRITE (2)</span></div>
<div class="line"><a id="l00037" name="l00037"></a><span class="lineno"><a class="line" href="vfs_8h.html#aee37d9654cd866e2c6c08da33421efe8">   37</a></span><span class="preprocessor">#define PERM_EXEC  (4)</span></div>
<div class="line"><a id="l00038" name="l00038"></a><span class="lineno">   38</span> </div>
<div class="line"><a id="l00039" name="l00039"></a><span class="lineno">   39</span><span class="comment">// Function pointer definitions so we can just call `file_node-&gt;Read(...);` etc.</span></div>
<div class="line"><a id="l00040" name="l00040"></a><span class="lineno"><a class="line" href="vfs_8h.html#aa8e7646094628aa27c1468f7d3fae29f">   40</a></span><span class="keyword">typedef</span> uint32_t        (*<a class="code hl_typedef" href="vfs_8h.html#aa8e7646094628aa27c1468f7d3fae29f">FileReadFunc</a>)    (<span class="keyword">struct </span><a class="code hl_struct" href="struct_f_s_node_s.html">FSNodeS</a>*, uint32_t, uint32_t, <span class="keywordtype">void</span>*);</div>
<div class="line"><a id="l00041" name="l00041"></a><span class="lineno"><a class="line" href="vfs_8h.html#a3ee5de4ef00d5f44e04b901ab6b0bc7f">   41</a></span><span class="keyword">typedef</span> uint32_t        (*<a class="code hl_typedef" href="vfs_8h.html#a3ee5de4ef00d5f44e04b901ab6b0bc7f">FileWriteFunc</a>)   (<span class="keyword">struct </span><a class="code hl_struct" href="struct_f_s_node_s.html">FSNodeS</a>*, uint32_t, uint32_t, <span class="keywordtype">void</span>*);</div>
<div class="line"><a id="l00042" name="l00042"></a><span class="lineno"><a class="line" href="vfs_8h.html#a465fbdbf4148508acc73082bf5a2f419">   42</a></span><span class="keyword">typedef</span> <a class="code hl_define" href="stdbool_8h.html#abb452686968e48b67397da5f97445f5b">bool</a>            (*<a class="code hl_typedef" href="vfs_8h.html#a465fbdbf4148508acc73082bf5a2f419">FileOpenFunc</a>)    (<span class="keyword">struct </span><a class="code hl_struct" href="struct_f_s_node_s.html">FSNodeS</a>*, <a class="code hl_define" href="stdbool_8h.html#abb452686968e48b67397da5f97445f5b">bool</a>, <a class="code hl_define" href="stdbool_8h.html#abb452686968e48b67397da5f97445f5b">bool</a>);</div>
<div class="line"><a id="l00043" name="l00043"></a><span class="lineno"><a class="line" href="vfs_8h.html#a674488c3a7e64be720996c017d18c1df">   43</a></span><span class="keyword">typedef</span> void            (*<a class="code hl_typedef" href="vfs_8h.html#a674488c3a7e64be720996c017d18c1df">FileCloseFunc</a>)   (<span class="keyword">struct </span><a class="code hl_struct" href="struct_f_s_node_s.html">FSNodeS</a>*);</div>
<div class="line"><a id="l00044" name="l00044"></a><span class="lineno"><a class="line" href="vfs_8h.html#a5f31add111887e8a2e50e7857609fe20">   44</a></span><span class="keyword">typedef</span> <a class="code hl_define" href="stdbool_8h.html#abb452686968e48b67397da5f97445f5b">bool</a>            (*<a class="code hl_typedef" href="vfs_8h.html#a5f31add111887e8a2e50e7857609fe20">FileOpenDirFunc</a>) (<span class="keyword">struct </span><a class="code hl_struct" href="struct_f_s_node_s.html">FSNodeS</a>*);</div>
<div class="line"><a id="l00045" name="l00045"></a><span class="lineno"><a class="line" href="vfs_8h.html#ad9de2a8c6b4f560c68f6c69fb4b01614">   45</a></span><span class="keyword">typedef</span> void            (*<a class="code hl_typedef" href="vfs_8h.html#ad9de2a8c6b4f560c68f6c69fb4b01614">FileCloseDirFunc</a>)(<span class="keyword">struct </span><a class="code hl_struct" href="struct_f_s_node_s.html">FSNodeS</a>*);</div>
<div class="line"><a id="l00046" name="l00046"></a><span class="lineno">   46</span><span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code hl_struct" href="struct_dir_ent_s.html">DirEntS</a>* (*FileReadDirFunc) (<span class="keyword">struct </span><a class="code hl_struct" href="struct_f_s_node_s.html">FSNodeS</a>*, uint32_t);</div>
<div class="line"><a id="l00047" name="l00047"></a><span class="lineno">   47</span><span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code hl_struct" href="struct_f_s_node_s.html">FSNodeS</a>* (*FileFindDirFunc) (<span class="keyword">struct </span><a class="code hl_struct" href="struct_f_s_node_s.html">FSNodeS</a>*, <span class="keyword">const</span> <span class="keywordtype">char</span>* pName);</div>
<div class="line"><a id="l00048" name="l00048"></a><span class="lineno">   48</span> </div>
<div class="line"><a id="l00049" name="l00049"></a><span class="lineno"><a class="line" href="struct_f_s_node_s.html">   49</a></span><span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code hl_struct" href="struct_f_s_node_s.html">FSNodeS</a></div>
<div class="line"><a id="l00050" name="l00050"></a><span class="lineno">   50</span>{</div>
<div class="line"><a id="l00051" name="l00051"></a><span class="lineno"><a class="line" href="struct_f_s_node_s.html#a32372015cd5ac3e0bf12559178d65a7b">   51</a></span>    <span class="keywordtype">char</span>             <a class="code hl_variable" href="struct_f_s_node_s.html#a32372015cd5ac3e0bf12559178d65a7b">m_name</a>[128]; <span class="comment">//+nullterm, so 127 concrete chars</span></div>
<div class="line"><a id="l00052" name="l00052"></a><span class="lineno"><a class="line" href="struct_f_s_node_s.html#afe34c6237461440d9361027d62ea0de5">   52</a></span>    uint32_t         <a class="code hl_variable" href="struct_f_s_node_s.html#afe34c6237461440d9361027d62ea0de5">m_type</a>;</div>
<div class="line"><a id="l00053" name="l00053"></a><span class="lineno"><a class="line" href="struct_f_s_node_s.html#a24fc65e18ee04fd354dc36f64d52fc18">   53</a></span>    uint32_t         <a class="code hl_variable" href="struct_f_s_node_s.html#a24fc65e18ee04fd354dc36f64d52fc18">m_perms</a>;</div>
<div class="line"><a id="l00054" name="l00054"></a><span class="lineno"><a class="line" href="struct_f_s_node_s.html#af1942661f0661ce44cb8e6f4af7df19a">   54</a></span>    uint32_t         <a class="code hl_variable" href="struct_f_s_node_s.html#af1942661f0661ce44cb8e6f4af7df19a">m_flags</a>;</div>
<div class="line"><a id="l00055" name="l00055"></a><span class="lineno"><a class="line" href="struct_f_s_node_s.html#acaa639650cb15abdf05afe752d97fdc2">   55</a></span>    uint32_t         <a class="code hl_variable" href="struct_f_s_node_s.html#acaa639650cb15abdf05afe752d97fdc2">m_inode</a>;      <span class="comment">//device specific</span></div>
<div class="line"><a id="l00056" name="l00056"></a><span class="lineno"><a class="line" href="struct_f_s_node_s.html#a5f3283a6d9bb737c764db3cc67b86560">   56</a></span>    uint32_t         <a class="code hl_variable" href="struct_f_s_node_s.html#a5f3283a6d9bb737c764db3cc67b86560">m_length</a>;     <span class="comment">//file size</span></div>
<div class="line"><a id="l00057" name="l00057"></a><span class="lineno"><a class="line" href="struct_f_s_node_s.html#abfd55c220760894f97f57d733d9f12cb">   57</a></span>    uint32_t         <a class="code hl_variable" href="struct_f_s_node_s.html#abfd55c220760894f97f57d733d9f12cb">m_implData</a>;   <span class="comment">//implementation data. TODO</span></div>
<div class="line"><a id="l00058" name="l00058"></a><span class="lineno"><a class="line" href="struct_f_s_node_s.html#a921072c0f18e89125c5557c5b15b4533">   58</a></span>    <a class="code hl_typedef" href="vfs_8h.html#aa8e7646094628aa27c1468f7d3fae29f">FileReadFunc</a>     <a class="code hl_variable" href="struct_f_s_node_s.html#a921072c0f18e89125c5557c5b15b4533">Read</a>;</div>
<div class="line"><a id="l00059" name="l00059"></a><span class="lineno"><a class="line" href="struct_f_s_node_s.html#a38b445270ba20f01d283fddffc7a5fe8">   59</a></span>    <a class="code hl_typedef" href="vfs_8h.html#a3ee5de4ef00d5f44e04b901ab6b0bc7f">FileWriteFunc</a>    <a class="code hl_variable" href="struct_f_s_node_s.html#a38b445270ba20f01d283fddffc7a5fe8">Write</a>;</div>
<div class="line"><a id="l00060" name="l00060"></a><span class="lineno"><a class="line" href="struct_f_s_node_s.html#a350fd8ebf881e382e63f81ce2775a1f7">   60</a></span>    <a class="code hl_typedef" href="vfs_8h.html#a465fbdbf4148508acc73082bf5a2f419">FileOpenFunc</a>     <a class="code hl_variable" href="struct_f_s_node_s.html#a350fd8ebf881e382e63f81ce2775a1f7">Open</a>;</div>
<div class="line"><a id="l00061" name="l00061"></a><span class="lineno"><a class="line" href="struct_f_s_node_s.html#abfa3138af5e7471a9f8e70268fd4addd">   61</a></span>    <a class="code hl_typedef" href="vfs_8h.html#a674488c3a7e64be720996c017d18c1df">FileCloseFunc</a>    <a class="code hl_variable" href="struct_f_s_node_s.html#abfa3138af5e7471a9f8e70268fd4addd">Close</a>;</div>
<div class="line"><a id="l00062" name="l00062"></a><span class="lineno"><a class="line" href="struct_f_s_node_s.html#a853bd883483e0e9330b9ba9de06ea068">   62</a></span>    <a class="code hl_typedef" href="vfs_8h.html#a5f31add111887e8a2e50e7857609fe20">FileOpenDirFunc</a>  <a class="code hl_variable" href="struct_f_s_node_s.html#a853bd883483e0e9330b9ba9de06ea068">OpenDir</a>;</div>
<div class="line"><a id="l00063" name="l00063"></a><span class="lineno"><a class="line" href="struct_f_s_node_s.html#a63b29af7fa26e1c06aaae028e6070bc9">   63</a></span>    <a class="code hl_typedef" href="vfs_8h.html#a3963475be1853e618065f61b3bd4a2fd">FileReadDirFunc</a>  <a class="code hl_variable" href="struct_f_s_node_s.html#a63b29af7fa26e1c06aaae028e6070bc9">ReadDir</a>;      <span class="comment">//returns the n-th child of a directory</span></div>
<div class="line"><a id="l00064" name="l00064"></a><span class="lineno"><a class="line" href="struct_f_s_node_s.html#adc73436321ea7d770ff6464c32c939f8">   64</a></span>    <a class="code hl_typedef" href="vfs_8h.html#a123f0f44f0db98febc248b0a2ee3912a">FileFindDirFunc</a>  <a class="code hl_variable" href="struct_f_s_node_s.html#adc73436321ea7d770ff6464c32c939f8">FindDir</a>;      <span class="comment">//try to find a child in a directory by name</span></div>
<div class="line"><a id="l00065" name="l00065"></a><span class="lineno"><a class="line" href="struct_f_s_node_s.html#a48b7c0da03559150e684161b5017a2c9">   65</a></span>    <a class="code hl_typedef" href="vfs_8h.html#ad9de2a8c6b4f560c68f6c69fb4b01614">FileCloseDirFunc</a> <a class="code hl_variable" href="struct_f_s_node_s.html#a48b7c0da03559150e684161b5017a2c9">CloseDir</a>;</div>
<div class="line"><a id="l00066" name="l00066"></a><span class="lineno">   66</span>}</div>
<div class="line"><a id="l00067" name="l00067"></a><span class="lineno"><a class="line" href="vfs_8h.html#a0701322b74a42bfa05ca3fe3d7f513c0">   67</a></span><a class="code hl_typedef" href="vfs_8h.html#a0701322b74a42bfa05ca3fe3d7f513c0">FileNode</a>;</div>
<div class="line"><a id="l00068" name="l00068"></a><span class="lineno">   68</span> </div>
<div class="line"><a id="l00069" name="l00069"></a><span class="lineno"><a class="line" href="struct_dir_ent_s.html">   69</a></span><span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code hl_struct" href="struct_dir_ent_s.html">DirEntS</a></div>
<div class="line"><a id="l00070" name="l00070"></a><span class="lineno">   70</span>{</div>
<div class="line"><a id="l00071" name="l00071"></a><span class="lineno"><a class="line" href="struct_dir_ent_s.html#a32372015cd5ac3e0bf12559178d65a7b">   71</a></span>    <span class="keywordtype">char</span>     <a class="code hl_variable" href="struct_dir_ent_s.html#a32372015cd5ac3e0bf12559178d65a7b">m_name</a>[128]; <span class="comment">//+nullterm, so 127 concrete chars</span></div>
<div class="line"><a id="l00072" name="l00072"></a><span class="lineno"><a class="line" href="struct_dir_ent_s.html#acaa639650cb15abdf05afe752d97fdc2">   72</a></span>    uint32_t <a class="code hl_variable" href="struct_dir_ent_s.html#acaa639650cb15abdf05afe752d97fdc2">m_inode</a>;     <span class="comment">//device specific</span></div>
<div class="line"><a id="l00073" name="l00073"></a><span class="lineno">   73</span>}</div>
<div class="line"><a id="l00074" name="l00074"></a><span class="lineno"><a class="line" href="vfs_8h.html#aecc04b164c0fa69af3407b8d94910ea4">   74</a></span><a class="code hl_typedef" href="vfs_8h.html#aecc04b164c0fa69af3407b8d94910ea4">DirEnt</a>;</div>
<div class="line"><a id="l00075" name="l00075"></a><span class="lineno">   75</span> </div>
<div class="line"><a id="l00079" name="l00079"></a><span class="lineno">   79</span><a class="code hl_struct" href="struct_f_s_node_s.html">FileNode</a>* <a class="code hl_function" href="vfs_8h.html#a17f6e7071a16e4c7185b3c7f2dd70eac">FsGetRootNode</a>();</div>
<div class="line"><a id="l00080" name="l00080"></a><span class="lineno">   80</span> </div>
<div class="line"><a id="l00081" name="l00081"></a><span class="lineno">   81</span><span class="comment">//Standard read/write/open/close functions.  They are prefixed with Fs to distinguish them</span></div>
<div class="line"><a id="l00082" name="l00082"></a><span class="lineno">   82</span><span class="comment">//from FiRead/FiWrite/FiOpen/FiClose, which deal with file handles not nodes.</span></div>
<div class="line"><a id="l00083" name="l00083"></a><span class="lineno">   83</span> </div>
<div class="line"><a id="l00084" name="l00084"></a><span class="lineno">   84</span><span class="comment">//Remember the definitions above.</span></div>
<div class="line"><a id="l00085" name="l00085"></a><span class="lineno">   85</span> </div>
<div class="line"><a id="l00086" name="l00086"></a><span class="lineno">   86</span>uint32_t <a class="code hl_function" href="vfs_8h.html#ab5aec68cc62972222d9a98525f5bf3ba">FsRead</a>    (<a class="code hl_struct" href="struct_f_s_node_s.html">FileNode</a>* pNode, uint32_t offset, uint32_t <a class="code hl_variable" href="multiboot_8h.html#af3a788b87c440d5ac4af944345f6e29a">size</a>, <span class="keywordtype">void</span>* pBuffer);</div>
<div class="line"><a id="l00087" name="l00087"></a><span class="lineno">   87</span>uint32_t <a class="code hl_function" href="vfs_8h.html#a3458c9189ec25ef83bbbe22279281c73">FsWrite</a>   (<a class="code hl_struct" href="struct_f_s_node_s.html">FileNode</a>* pNode, uint32_t offset, uint32_t <a class="code hl_variable" href="multiboot_8h.html#af3a788b87c440d5ac4af944345f6e29a">size</a>, <span class="keywordtype">void</span>* pBuffer);</div>
<div class="line"><a id="l00088" name="l00088"></a><span class="lineno">   88</span><span class="keywordtype">bool</span>     <a class="code hl_function" href="vfs_8h.html#abe2b0a3c2fabe11b21109d48e0b9c803">FsOpen</a>    (<a class="code hl_struct" href="struct_f_s_node_s.html">FileNode</a>* pNode, <span class="keywordtype">bool</span> read, <span class="keywordtype">bool</span> write);</div>
<div class="line"><a id="l00089" name="l00089"></a><span class="lineno">   89</span><span class="keywordtype">void</span>     <a class="code hl_function" href="vfs_8h.html#a8e7d5799729647c01b31d67ceadc2c7a">FsClose</a>   (<a class="code hl_struct" href="struct_f_s_node_s.html">FileNode</a>* pNode);</div>
<div class="line"><a id="l00090" name="l00090"></a><span class="lineno">   90</span><span class="keywordtype">bool</span>     <a class="code hl_function" href="vfs_8h.html#a5f96b3007af00560c60df20b902e35aa">FsOpenDir</a> (<a class="code hl_struct" href="struct_f_s_node_s.html">FileNode</a>* pNode);</div>
<div class="line"><a id="l00091" name="l00091"></a><span class="lineno">   91</span><span class="keywordtype">void</span>     <a class="code hl_function" href="vfs_8h.html#afbf42c4c6ee78b17424ffe410fe1030a">FsCloseDir</a>(<a class="code hl_struct" href="struct_f_s_node_s.html">FileNode</a>* pNode);</div>
<div class="line"><a id="l00092" name="l00092"></a><span class="lineno">   92</span><a class="code hl_struct" href="struct_dir_ent_s.html">DirEnt</a>*  <a class="code hl_function" href="vfs_8h.html#a86c1d1be60cbdae607028eedd3d465f6">FsReadDir</a> (<a class="code hl_struct" href="struct_f_s_node_s.html">FileNode</a>* pNode, uint32_t index);</div>
<div class="line"><a id="l00093" name="l00093"></a><span class="lineno">   93</span><a class="code hl_struct" href="struct_f_s_node_s.html">FileNode</a>*<a class="code hl_function" href="vfs_8h.html#aa4cc38253c1dc55e3a046c3530b6dd76">FsFindDir</a> (<a class="code hl_struct" href="struct_f_s_node_s.html">FileNode</a>* pNode, <span class="keyword">const</span> <span class="keywordtype">char</span>* pName);</div>
<div class="line"><a id="l00094" name="l00094"></a><span class="lineno">   94</span> </div>
<div class="line"><a id="l00095" name="l00095"></a><span class="lineno">   95</span> </div>
<div class="line"><a id="l00096" name="l00096"></a><span class="lineno">   96</span><a class="code hl_struct" href="struct_f_s_node_s.html">FileNode</a>*<a class="code hl_function" href="vfs_8h.html#abd605f590abb18ccadd26c90a49fc099">FsResolvePath</a> (<span class="keyword">const</span> <span class="keywordtype">char</span>* pPath);</div>
<div class="line"><a id="l00097" name="l00097"></a><span class="lineno">   97</span> </div>
<div class="line"><a id="l00098" name="l00098"></a><span class="lineno">   98</span><span class="keywordtype">void</span> <a class="code hl_function" href="vfs_8h.html#a4a566878b5c5689316860d8d39dec392">FiDebugDump</a>();</div>
<div class="line"><a id="l00099" name="l00099"></a><span class="lineno">   99</span> </div>
<div class="line"><a id="l00100" name="l00100"></a><span class="lineno">  100</span><span class="comment">//Initrd stuff:</span></div>
<div class="line"><a id="l00101" name="l00101"></a><span class="lineno">  101</span><span class="preprocessor">#if 1</span></div>
<div class="line"><a id="l00102" name="l00102"></a><span class="lineno"><a class="line" href="struct_init_rd_header.html">  102</a></span>    <span class="keyword">typedef</span> <span class="keyword">struct</span></div>
<div class="line"><a id="l00103" name="l00103"></a><span class="lineno">  103</span>    {</div>
<div class="line"><a id="l00104" name="l00104"></a><span class="lineno"><a class="line" href="struct_init_rd_header.html#a2782ae68b509f2b12e12a5a6687c95e8">  104</a></span>        <span class="keywordtype">int</span> <a class="code hl_variable" href="struct_init_rd_header.html#a2782ae68b509f2b12e12a5a6687c95e8">m_nFiles</a>;</div>
<div class="line"><a id="l00105" name="l00105"></a><span class="lineno">  105</span>    }</div>
<div class="line"><a id="l00106" name="l00106"></a><span class="lineno">  106</span>    <a class="code hl_struct" href="struct_init_rd_header.html">InitRdHeader</a>;</div>
<div class="line"><a id="l00107" name="l00107"></a><span class="lineno">  107</span>    </div>
<div class="line"><a id="l00109" name="l00109"></a><span class="lineno"><a class="line" href="struct_init_rd_file_header.html">  109</a></span>    <span class="keyword">typedef</span> <span class="keyword">struct</span></div>
<div class="line"><a id="l00110" name="l00110"></a><span class="lineno">  110</span>    {</div>
<div class="line"><a id="l00111" name="l00111"></a><span class="lineno"><a class="line" href="struct_init_rd_file_header.html#a96fb21a58016586c9afa77bec6475253">  111</a></span>        uint32_t <a class="code hl_variable" href="struct_init_rd_file_header.html#a96fb21a58016586c9afa77bec6475253">m_magic</a>;</div>
<div class="line"><a id="l00112" name="l00112"></a><span class="lineno"><a class="line" href="struct_init_rd_file_header.html#a40e1ba6498d327809d8e0ab1110d1ce9">  112</a></span>        <span class="keywordtype">char</span> m_name[64];</div>
<div class="line"><a id="l00113" name="l00113"></a><span class="lineno"><a class="line" href="struct_init_rd_file_header.html#a5f3283a6d9bb737c764db3cc67b86560">  113</a></span>        uint32_t m_offset, <a class="code hl_variable" href="struct_init_rd_file_header.html#a5f3283a6d9bb737c764db3cc67b86560">m_length</a>;</div>
<div class="line"><a id="l00114" name="l00114"></a><span class="lineno">  114</span>    }</div>
<div class="line"><a id="l00115" name="l00115"></a><span class="lineno">  115</span>    <a class="code hl_struct" href="struct_init_rd_file_header.html">InitRdFileHeader</a>;</div>
<div class="line"><a id="l00116" name="l00116"></a><span class="lineno">  116</span> </div>
<div class="line"><a id="l00120" name="l00120"></a><span class="lineno"><a class="line" href="vfs_8h.html#a4bd59005da70432710d9d93faf25ba46">  120</a></span>    <a class="code hl_struct" href="struct_f_s_node_s.html">FileNode</a>* <a class="code hl_function" href="vfs_8h.html#a4bd59005da70432710d9d93faf25ba46">FsGetInitrdNode</a> ();</div>
<div class="line"><a id="l00121" name="l00121"></a><span class="lineno">  121</span>    </div>
<div class="line"><a id="l00125" name="l00125"></a><span class="lineno">  125</span>    <span class="keywordtype">void</span> <a class="code hl_function" href="vfs_8h.html#a70273cfbecbd1a756a661d8bee8b08c0">FsInitializeInitRd</a>(<span class="keywordtype">void</span>* pRamDisk);</div>
<div class="line"><a id="l00126" name="l00126"></a><span class="lineno">  126</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l00127" name="l00127"></a><span class="lineno">  127</span> </div>
<div class="line"><a id="l00128" name="l00128"></a><span class="lineno">  128</span><span class="comment">// Basic POSIX-like API</span></div>
<div class="line"><a id="l00129" name="l00129"></a><span class="lineno">  129</span><span class="preprocessor">#if 1</span></div>
<div class="line"><a id="l00130" name="l00130"></a><span class="lineno">  130</span> </div>
<div class="line"><a id="l00131" name="l00131"></a><span class="lineno"><a class="line" href="vfs_8h.html#a7a68c9ffaac7dbcd652225dd7c06a54b">  131</a></span><span class="preprocessor">    #define O_RDONLY (1)</span></div>
<div class="line"><a id="l00132" name="l00132"></a><span class="lineno"><a class="line" href="vfs_8h.html#a11b644a8526139c4cc1850dac1271ced">  132</a></span><span class="preprocessor">    #define O_WRONLY (2)</span></div>
<div class="line"><a id="l00133" name="l00133"></a><span class="lineno"><a class="line" href="vfs_8h.html#abb0586253488ee61072b73557eeb873b">  133</a></span><span class="preprocessor">    #define O_RDWR   (O_RDONLY | O_WRONLY)</span></div>
<div class="line"><a id="l00134" name="l00134"></a><span class="lineno"><a class="line" href="vfs_8h.html#ae036f789407d21f07b211552d67b3214">  134</a></span><span class="preprocessor">    #define O_APPEND (4)</span></div>
<div class="line"><a id="l00135" name="l00135"></a><span class="lineno"><a class="line" href="vfs_8h.html#a1cf6b1de1fffedaa1d26b189e9a8d2cc">  135</a></span><span class="preprocessor">    #define O_CREAT  (8)</span></div>
<div class="line"><a id="l00136" name="l00136"></a><span class="lineno"><a class="line" href="vfs_8h.html#a459542206659fbe295eb4183f8b8f06c">  136</a></span><span class="preprocessor">    #define O_EXEC   (1024)</span></div>
<div class="line"><a id="l00137" name="l00137"></a><span class="lineno">  137</span>    </div>
<div class="line"><a id="l00138" name="l00138"></a><span class="lineno">  138</span>    <span class="comment">//lseek whences</span></div>
<div class="line"><a id="l00139" name="l00139"></a><span class="lineno"><a class="line" href="vfs_8h.html#a0d112bae8fd35be772185b6ec6bcbe64">  139</a></span><span class="preprocessor">    #define SEEK_SET 0</span></div>
<div class="line"><a id="l00140" name="l00140"></a><span class="lineno"><a class="line" href="vfs_8h.html#a4c8d0b76b470ba65a43ca46a88320f39">  140</a></span><span class="preprocessor">    #define SEEK_CUR 1</span></div>
<div class="line"><a id="l00141" name="l00141"></a><span class="lineno"><a class="line" href="vfs_8h.html#ad2a2e6c114780c3071efd24f16c7f7d8">  141</a></span><span class="preprocessor">    #define SEEK_END 2</span></div>
<div class="line"><a id="l00142" name="l00142"></a><span class="lineno">  142</span>    </div>
<div class="line"><a id="l00143" name="l00143"></a><span class="lineno">  143</span>    <span class="keyword">enum</span></div>
<div class="line"><a id="l00144" name="l00144"></a><span class="lineno">  144</span>    {</div>
<div class="line"><a id="l00145" name="l00145"></a><span class="lineno"><a class="line" href="vfs_8h.html#a5d76b81b0ad4c19007a781d4edb8181fa1fa64bffde8dd0d6a8dcc1ce94e1eb63">  145</a></span>        <a class="code hl_enumvalue" href="vfs_8h.html#a5d76b81b0ad4c19007a781d4edb8181fa1fa64bffde8dd0d6a8dcc1ce94e1eb63">ENOTHING</a>,</div>
<div class="line"><a id="l00146" name="l00146"></a><span class="lineno"><a class="line" href="vfs_8h.html#a5d76b81b0ad4c19007a781d4edb8181fa5fa7d65262e81125cecb27e80a26ce98">  146</a></span>        <a class="code hl_enumvalue" href="vfs_8h.html#a5d76b81b0ad4c19007a781d4edb8181fa5fa7d65262e81125cecb27e80a26ce98">EACCES</a>,</div>
<div class="line"><a id="l00147" name="l00147"></a><span class="lineno"><a class="line" href="vfs_8h.html#a5d76b81b0ad4c19007a781d4edb8181fa523e02a73d840e490c14a179a997627e">  147</a></span>        <a class="code hl_enumvalue" href="vfs_8h.html#a5d76b81b0ad4c19007a781d4edb8181fa523e02a73d840e490c14a179a997627e">EEXIST</a>,</div>
<div class="line"><a id="l00148" name="l00148"></a><span class="lineno"><a class="line" href="vfs_8h.html#a5d76b81b0ad4c19007a781d4edb8181fa8cc241d56d59d11ceea8efc37bec8ed4">  148</a></span>        <a class="code hl_enumvalue" href="vfs_8h.html#a5d76b81b0ad4c19007a781d4edb8181fa8cc241d56d59d11ceea8efc37bec8ed4">EINTR</a>,</div>
<div class="line"><a id="l00149" name="l00149"></a><span class="lineno"><a class="line" href="vfs_8h.html#a5d76b81b0ad4c19007a781d4edb8181fa7bfd237190819a0a272db7b0aa61d5c8">  149</a></span>        <a class="code hl_enumvalue" href="vfs_8h.html#a5d76b81b0ad4c19007a781d4edb8181fa7bfd237190819a0a272db7b0aa61d5c8">EINVAL</a>,</div>
<div class="line"><a id="l00150" name="l00150"></a><span class="lineno"><a class="line" href="vfs_8h.html#a5d76b81b0ad4c19007a781d4edb8181fa6d2c32b1730ea078f2802b34b1258a4c">  150</a></span>        <a class="code hl_enumvalue" href="vfs_8h.html#a5d76b81b0ad4c19007a781d4edb8181fa6d2c32b1730ea078f2802b34b1258a4c">EIO</a>,</div>
<div class="line"><a id="l00151" name="l00151"></a><span class="lineno"><a class="line" href="vfs_8h.html#a5d76b81b0ad4c19007a781d4edb8181fa6a73363cf3fa4dc0d77c4cb3b9d83321">  151</a></span>        <a class="code hl_enumvalue" href="vfs_8h.html#a5d76b81b0ad4c19007a781d4edb8181fa6a73363cf3fa4dc0d77c4cb3b9d83321">EISDIR</a>,</div>
<div class="line"><a id="l00152" name="l00152"></a><span class="lineno"><a class="line" href="vfs_8h.html#a5d76b81b0ad4c19007a781d4edb8181fac39a4aaab7efc4f82deef26b159f650c">  152</a></span>        <a class="code hl_enumvalue" href="vfs_8h.html#a5d76b81b0ad4c19007a781d4edb8181fac39a4aaab7efc4f82deef26b159f650c">ELOOP</a>,</div>
<div class="line"><a id="l00153" name="l00153"></a><span class="lineno"><a class="line" href="vfs_8h.html#a5d76b81b0ad4c19007a781d4edb8181fa0191be5a8b35e30991789c9fe4b2c4cf">  153</a></span>        <a class="code hl_enumvalue" href="vfs_8h.html#a5d76b81b0ad4c19007a781d4edb8181fa0191be5a8b35e30991789c9fe4b2c4cf">EMFILE</a>,</div>
<div class="line"><a id="l00154" name="l00154"></a><span class="lineno"><a class="line" href="vfs_8h.html#a5d76b81b0ad4c19007a781d4edb8181fabf7123a05c2949f1ca60f7531a98eac5">  154</a></span>        <a class="code hl_enumvalue" href="vfs_8h.html#a5d76b81b0ad4c19007a781d4edb8181fabf7123a05c2949f1ca60f7531a98eac5">ENAMETOOLONG</a>,</div>
<div class="line"><a id="l00155" name="l00155"></a><span class="lineno"><a class="line" href="vfs_8h.html#a5d76b81b0ad4c19007a781d4edb8181faf8ee28f2eeab568a1b641f6ffc1f90a8">  155</a></span>        <a class="code hl_enumvalue" href="vfs_8h.html#a5d76b81b0ad4c19007a781d4edb8181faf8ee28f2eeab568a1b641f6ffc1f90a8">ENFILE</a>,</div>
<div class="line"><a id="l00156" name="l00156"></a><span class="lineno"><a class="line" href="vfs_8h.html#a5d76b81b0ad4c19007a781d4edb8181fa996f6f948b613bccc738ff8517413c1a">  156</a></span>        <a class="code hl_enumvalue" href="vfs_8h.html#a5d76b81b0ad4c19007a781d4edb8181fa996f6f948b613bccc738ff8517413c1a">ENOENT</a>,</div>
<div class="line"><a id="l00157" name="l00157"></a><span class="lineno"><a class="line" href="vfs_8h.html#a5d76b81b0ad4c19007a781d4edb8181fa69f5babc32dadf40b348312b714ba7b7">  157</a></span>        <a class="code hl_enumvalue" href="vfs_8h.html#a5d76b81b0ad4c19007a781d4edb8181fa69f5babc32dadf40b348312b714ba7b7">ENOSR</a>,</div>
<div class="line"><a id="l00158" name="l00158"></a><span class="lineno"><a class="line" href="vfs_8h.html#a5d76b81b0ad4c19007a781d4edb8181fa2b5265f4c8556b15ec913f61caade1eb">  158</a></span>        <a class="code hl_enumvalue" href="vfs_8h.html#a5d76b81b0ad4c19007a781d4edb8181fa2b5265f4c8556b15ec913f61caade1eb">ENOSPC</a>,</div>
<div class="line"><a id="l00159" name="l00159"></a><span class="lineno"><a class="line" href="vfs_8h.html#a5d76b81b0ad4c19007a781d4edb8181fa8cd7a7b948ee085bbaeb2a210b412d6e">  159</a></span>        <a class="code hl_enumvalue" href="vfs_8h.html#a5d76b81b0ad4c19007a781d4edb8181fa8cd7a7b948ee085bbaeb2a210b412d6e">ENOTDIR</a>,</div>
<div class="line"><a id="l00160" name="l00160"></a><span class="lineno"><a class="line" href="vfs_8h.html#a5d76b81b0ad4c19007a781d4edb8181fa1c0d17ac093eff038b479dba021361bb">  160</a></span>        <a class="code hl_enumvalue" href="vfs_8h.html#a5d76b81b0ad4c19007a781d4edb8181fa1c0d17ac093eff038b479dba021361bb">ENXIO</a>,</div>
<div class="line"><a id="l00161" name="l00161"></a><span class="lineno"><a class="line" href="vfs_8h.html#a5d76b81b0ad4c19007a781d4edb8181faca0f39f6e98ddddb61280b52e5019811">  161</a></span>        <a class="code hl_enumvalue" href="vfs_8h.html#a5d76b81b0ad4c19007a781d4edb8181faca0f39f6e98ddddb61280b52e5019811">EOVERFLOW</a>,</div>
<div class="line"><a id="l00162" name="l00162"></a><span class="lineno"><a class="line" href="vfs_8h.html#a5d76b81b0ad4c19007a781d4edb8181fa56198247acea7520ae5c6005fbe76a31">  162</a></span>        <a class="code hl_enumvalue" href="vfs_8h.html#a5d76b81b0ad4c19007a781d4edb8181fa56198247acea7520ae5c6005fbe76a31">EROFS</a>,</div>
<div class="line"><a id="l00163" name="l00163"></a><span class="lineno"><a class="line" href="vfs_8h.html#a5d76b81b0ad4c19007a781d4edb8181fa4bde0de54c0b708a605ed5095959c14e">  163</a></span>        <a class="code hl_enumvalue" href="vfs_8h.html#a5d76b81b0ad4c19007a781d4edb8181fa4bde0de54c0b708a605ed5095959c14e">EAGAIN</a>,</div>
<div class="line"><a id="l00164" name="l00164"></a><span class="lineno"><a class="line" href="vfs_8h.html#a5d76b81b0ad4c19007a781d4edb8181faec0aa1bb79e2e55ed6d8c165e0611eca">  164</a></span>        <a class="code hl_enumvalue" href="vfs_8h.html#a5d76b81b0ad4c19007a781d4edb8181faec0aa1bb79e2e55ed6d8c165e0611eca">ENOMEM</a>,</div>
<div class="line"><a id="l00165" name="l00165"></a><span class="lineno"><a class="line" href="vfs_8h.html#a5d76b81b0ad4c19007a781d4edb8181fafe2a394fdb8f6a0e1caf72cc144132e6">  165</a></span>        <a class="code hl_enumvalue" href="vfs_8h.html#a5d76b81b0ad4c19007a781d4edb8181fafe2a394fdb8f6a0e1caf72cc144132e6">ETXTBUSY</a>,</div>
<div class="line"><a id="l00166" name="l00166"></a><span class="lineno"><a class="line" href="vfs_8h.html#a5d76b81b0ad4c19007a781d4edb8181fa87d4476eed38f45439e257081c9de369">  166</a></span>        <a class="code hl_enumvalue" href="vfs_8h.html#a5d76b81b0ad4c19007a781d4edb8181fa87d4476eed38f45439e257081c9de369">EBADF</a>,</div>
<div class="line"><a id="l00167" name="l00167"></a><span class="lineno"><a class="line" href="vfs_8h.html#a5d76b81b0ad4c19007a781d4edb8181fa9e5433f0863ce3470329184a3ee495a7">  167</a></span>        <a class="code hl_enumvalue" href="vfs_8h.html#a5d76b81b0ad4c19007a781d4edb8181fa9e5433f0863ce3470329184a3ee495a7">ESPIPE</a>,</div>
<div class="line"><a id="l00168" name="l00168"></a><span class="lineno">  168</span>    };</div>
<div class="line"><a id="l00169" name="l00169"></a><span class="lineno">  169</span>    </div>
<div class="line"><a id="l00170" name="l00170"></a><span class="lineno">  170</span>    <span class="comment">// Opens a file and returns its descriptor.</span></div>
<div class="line"><a id="l00171" name="l00171"></a><span class="lineno">  171</span>    <span class="keywordtype">int</span> <a class="code hl_function" href="vfs_8h.html#aef47a52e5ac5d6a4cf0cfdd9b5dd7a35">FiOpenD</a> (<span class="keyword">const</span> <span class="keywordtype">char</span>* pFileName, <span class="keywordtype">int</span> oflag, <span class="keyword">const</span> <span class="keywordtype">char</span>* srcFile, <span class="keywordtype">int</span> srcLine);</div>
<div class="line"><a id="l00172" name="l00172"></a><span class="lineno"><a class="line" href="vfs_8h.html#a563ea246bf246c2f347bddc33b17e652">  172</a></span><span class="preprocessor">    #define FiOpen(pFileName, oflag)  FiOpenD(pFileName,oflag,__FILE__,__LINE__)</span></div>
<div class="line"><a id="l00173" name="l00173"></a><span class="lineno">  173</span>    </div>
<div class="line"><a id="l00174" name="l00174"></a><span class="lineno">  174</span>    <span class="comment">// Closes a file and frees its descriptor for use.</span></div>
<div class="line"><a id="l00175" name="l00175"></a><span class="lineno">  175</span>    <span class="keywordtype">int</span> <a class="code hl_function" href="vfs_8h.html#add85e375b71b05582868c7f65dbac0c4">FiClose</a> (<span class="keywordtype">int</span> fd);</div>
<div class="line"><a id="l00176" name="l00176"></a><span class="lineno">  176</span>    </div>
<div class="line"><a id="l00177" name="l00177"></a><span class="lineno">  177</span>    <span class="comment">// Reads from a file.</span></div>
<div class="line"><a id="l00178" name="l00178"></a><span class="lineno">  178</span>    <span class="keywordtype">size_t</span> <a class="code hl_function" href="vfs_8h.html#ac0bed5c96632ba6968926a22da75194f">FiRead</a> (<span class="keywordtype">int</span> fd, <span class="keywordtype">void</span> *pBuf, <span class="keywordtype">int</span> nBytes);</div>
<div class="line"><a id="l00179" name="l00179"></a><span class="lineno">  179</span>    </div>
<div class="line"><a id="l00180" name="l00180"></a><span class="lineno">  180</span>    <span class="comment">// Writes to a file.</span></div>
<div class="line"><a id="l00181" name="l00181"></a><span class="lineno">  181</span>    <span class="keywordtype">size_t</span> <a class="code hl_function" href="vfs_8h.html#a185e2d70291c88235f1ddf43cd1c727a">FiWrite</a> (<span class="keywordtype">int</span> fd, <span class="keywordtype">void</span> *pBuf, <span class="keywordtype">int</span> nBytes);</div>
<div class="line"><a id="l00182" name="l00182"></a><span class="lineno">  182</span>    </div>
<div class="line"><a id="l00183" name="l00183"></a><span class="lineno">  183</span>    <span class="comment">// Returns the current stream position of a file.</span></div>
<div class="line"><a id="l00184" name="l00184"></a><span class="lineno">  184</span>    <span class="keywordtype">int</span> <a class="code hl_function" href="vfs_8h.html#aad3273e66621d12918a0ce19ac026cb1">FiTell</a> (<span class="keywordtype">int</span> fd);</div>
<div class="line"><a id="l00185" name="l00185"></a><span class="lineno">  185</span>    </div>
<div class="line"><a id="l00186" name="l00186"></a><span class="lineno">  186</span>    <span class="comment">// Returns the current size of a file.</span></div>
<div class="line"><a id="l00187" name="l00187"></a><span class="lineno">  187</span>    <span class="keywordtype">int</span> <a class="code hl_function" href="vfs_8h.html#a0a8e4000f62062cdd846a9dfd6bcc576">FiTellSize</a> (<span class="keywordtype">int</span> fd);</div>
<div class="line"><a id="l00188" name="l00188"></a><span class="lineno">  188</span>    </div>
<div class="line"><a id="l00189" name="l00189"></a><span class="lineno">  189</span>    <span class="comment">// Seeks around a file, if it&#39;s seekable.</span></div>
<div class="line"><a id="l00190" name="l00190"></a><span class="lineno">  190</span>    <span class="keywordtype">int</span> <a class="code hl_function" href="vfs_8h.html#a6f9ea039ec822f7e2451ebf0a338f276">FiSeek</a> (<span class="keywordtype">int</span> fd, <span class="keywordtype">int</span> offset, <span class="keywordtype">int</span> whence);</div>
<div class="line"><a id="l00191" name="l00191"></a><span class="lineno">  191</span> </div>
<div class="line"><a id="l00192" name="l00192"></a><span class="lineno">  192</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l00193" name="l00193"></a><span class="lineno">  193</span> </div>
<div class="line"><a id="l00194" name="l00194"></a><span class="lineno">  194</span><span class="preprocessor">#endif</span><span class="comment">//_VFS_H</span></div>
<div class="ttc" id="amain_8h_html"><div class="ttname"><a href="main_8h.html">main.h</a></div></div>
<div class="ttc" id="amultiboot_8h_html_af3a788b87c440d5ac4af944345f6e29a"><div class="ttname"><a href="multiboot_8h.html#af3a788b87c440d5ac4af944345f6e29a">size</a></div><div class="ttdeci">MultibootUInt32 size</div><div class="ttdef"><b>Definition:</b> multiboot.h:0</div></div>
<div class="ttc" id="astdbool_8h_html_abb452686968e48b67397da5f97445f5b"><div class="ttname"><a href="stdbool_8h.html#abb452686968e48b67397da5f97445f5b">bool</a></div><div class="ttdeci">#define bool</div><div class="ttdef"><b>Definition:</b> stdbool.h:33</div></div>
<div class="ttc" id="astruct_dir_ent_s_html"><div class="ttname"><a href="struct_dir_ent_s.html">DirEntS</a></div><div class="ttdef"><b>Definition:</b> vfs.h:70</div></div>
<div class="ttc" id="astruct_dir_ent_s_html_a32372015cd5ac3e0bf12559178d65a7b"><div class="ttname"><a href="struct_dir_ent_s.html#a32372015cd5ac3e0bf12559178d65a7b">DirEntS::m_name</a></div><div class="ttdeci">char m_name[128]</div><div class="ttdef"><b>Definition:</b> vfs.h:71</div></div>
<div class="ttc" id="astruct_dir_ent_s_html_acaa639650cb15abdf05afe752d97fdc2"><div class="ttname"><a href="struct_dir_ent_s.html#acaa639650cb15abdf05afe752d97fdc2">DirEntS::m_inode</a></div><div class="ttdeci">uint32_t m_inode</div><div class="ttdef"><b>Definition:</b> vfs.h:72</div></div>
<div class="ttc" id="astruct_f_s_node_s_html"><div class="ttname"><a href="struct_f_s_node_s.html">FSNodeS</a></div><div class="ttdef"><b>Definition:</b> vfs.h:50</div></div>
<div class="ttc" id="astruct_f_s_node_s_html_a24fc65e18ee04fd354dc36f64d52fc18"><div class="ttname"><a href="struct_f_s_node_s.html#a24fc65e18ee04fd354dc36f64d52fc18">FSNodeS::m_perms</a></div><div class="ttdeci">uint32_t m_perms</div><div class="ttdef"><b>Definition:</b> vfs.h:53</div></div>
<div class="ttc" id="astruct_f_s_node_s_html_a32372015cd5ac3e0bf12559178d65a7b"><div class="ttname"><a href="struct_f_s_node_s.html#a32372015cd5ac3e0bf12559178d65a7b">FSNodeS::m_name</a></div><div class="ttdeci">char m_name[128]</div><div class="ttdef"><b>Definition:</b> vfs.h:51</div></div>
<div class="ttc" id="astruct_f_s_node_s_html_a350fd8ebf881e382e63f81ce2775a1f7"><div class="ttname"><a href="struct_f_s_node_s.html#a350fd8ebf881e382e63f81ce2775a1f7">FSNodeS::Open</a></div><div class="ttdeci">FileOpenFunc Open</div><div class="ttdef"><b>Definition:</b> vfs.h:60</div></div>
<div class="ttc" id="astruct_f_s_node_s_html_a38b445270ba20f01d283fddffc7a5fe8"><div class="ttname"><a href="struct_f_s_node_s.html#a38b445270ba20f01d283fddffc7a5fe8">FSNodeS::Write</a></div><div class="ttdeci">FileWriteFunc Write</div><div class="ttdef"><b>Definition:</b> vfs.h:59</div></div>
<div class="ttc" id="astruct_f_s_node_s_html_a48b7c0da03559150e684161b5017a2c9"><div class="ttname"><a href="struct_f_s_node_s.html#a48b7c0da03559150e684161b5017a2c9">FSNodeS::CloseDir</a></div><div class="ttdeci">FileCloseDirFunc CloseDir</div><div class="ttdef"><b>Definition:</b> vfs.h:65</div></div>
<div class="ttc" id="astruct_f_s_node_s_html_a5f3283a6d9bb737c764db3cc67b86560"><div class="ttname"><a href="struct_f_s_node_s.html#a5f3283a6d9bb737c764db3cc67b86560">FSNodeS::m_length</a></div><div class="ttdeci">uint32_t m_length</div><div class="ttdef"><b>Definition:</b> vfs.h:56</div></div>
<div class="ttc" id="astruct_f_s_node_s_html_a63b29af7fa26e1c06aaae028e6070bc9"><div class="ttname"><a href="struct_f_s_node_s.html#a63b29af7fa26e1c06aaae028e6070bc9">FSNodeS::ReadDir</a></div><div class="ttdeci">FileReadDirFunc ReadDir</div><div class="ttdef"><b>Definition:</b> vfs.h:63</div></div>
<div class="ttc" id="astruct_f_s_node_s_html_a853bd883483e0e9330b9ba9de06ea068"><div class="ttname"><a href="struct_f_s_node_s.html#a853bd883483e0e9330b9ba9de06ea068">FSNodeS::OpenDir</a></div><div class="ttdeci">FileOpenDirFunc OpenDir</div><div class="ttdef"><b>Definition:</b> vfs.h:62</div></div>
<div class="ttc" id="astruct_f_s_node_s_html_a921072c0f18e89125c5557c5b15b4533"><div class="ttname"><a href="struct_f_s_node_s.html#a921072c0f18e89125c5557c5b15b4533">FSNodeS::Read</a></div><div class="ttdeci">FileReadFunc Read</div><div class="ttdef"><b>Definition:</b> vfs.h:58</div></div>
<div class="ttc" id="astruct_f_s_node_s_html_abfa3138af5e7471a9f8e70268fd4addd"><div class="ttname"><a href="struct_f_s_node_s.html#abfa3138af5e7471a9f8e70268fd4addd">FSNodeS::Close</a></div><div class="ttdeci">FileCloseFunc Close</div><div class="ttdef"><b>Definition:</b> vfs.h:61</div></div>
<div class="ttc" id="astruct_f_s_node_s_html_abfd55c220760894f97f57d733d9f12cb"><div class="ttname"><a href="struct_f_s_node_s.html#abfd55c220760894f97f57d733d9f12cb">FSNodeS::m_implData</a></div><div class="ttdeci">uint32_t m_implData</div><div class="ttdef"><b>Definition:</b> vfs.h:57</div></div>
<div class="ttc" id="astruct_f_s_node_s_html_acaa639650cb15abdf05afe752d97fdc2"><div class="ttname"><a href="struct_f_s_node_s.html#acaa639650cb15abdf05afe752d97fdc2">FSNodeS::m_inode</a></div><div class="ttdeci">uint32_t m_inode</div><div class="ttdef"><b>Definition:</b> vfs.h:55</div></div>
<div class="ttc" id="astruct_f_s_node_s_html_adc73436321ea7d770ff6464c32c939f8"><div class="ttname"><a href="struct_f_s_node_s.html#adc73436321ea7d770ff6464c32c939f8">FSNodeS::FindDir</a></div><div class="ttdeci">FileFindDirFunc FindDir</div><div class="ttdef"><b>Definition:</b> vfs.h:64</div></div>
<div class="ttc" id="astruct_f_s_node_s_html_af1942661f0661ce44cb8e6f4af7df19a"><div class="ttname"><a href="struct_f_s_node_s.html#af1942661f0661ce44cb8e6f4af7df19a">FSNodeS::m_flags</a></div><div class="ttdeci">uint32_t m_flags</div><div class="ttdef"><b>Definition:</b> vfs.h:54</div></div>
<div class="ttc" id="astruct_f_s_node_s_html_afe34c6237461440d9361027d62ea0de5"><div class="ttname"><a href="struct_f_s_node_s.html#afe34c6237461440d9361027d62ea0de5">FSNodeS::m_type</a></div><div class="ttdeci">uint32_t m_type</div><div class="ttdef"><b>Definition:</b> vfs.h:52</div></div>
<div class="ttc" id="astruct_init_rd_file_header_html"><div class="ttname"><a href="struct_init_rd_file_header.html">InitRdFileHeader</a></div><div class="ttdoc">Same as in fsmaker</div><div class="ttdef"><b>Definition:</b> vfs.h:110</div></div>
<div class="ttc" id="astruct_init_rd_file_header_html_a5f3283a6d9bb737c764db3cc67b86560"><div class="ttname"><a href="struct_init_rd_file_header.html#a5f3283a6d9bb737c764db3cc67b86560">InitRdFileHeader::m_length</a></div><div class="ttdeci">uint32_t m_length</div><div class="ttdef"><b>Definition:</b> vfs.h:113</div></div>
<div class="ttc" id="astruct_init_rd_file_header_html_a96fb21a58016586c9afa77bec6475253"><div class="ttname"><a href="struct_init_rd_file_header.html#a96fb21a58016586c9afa77bec6475253">InitRdFileHeader::m_magic</a></div><div class="ttdeci">uint32_t m_magic</div><div class="ttdef"><b>Definition:</b> vfs.h:111</div></div>
<div class="ttc" id="astruct_init_rd_header_html"><div class="ttname"><a href="struct_init_rd_header.html">InitRdHeader</a></div><div class="ttdef"><b>Definition:</b> vfs.h:103</div></div>
<div class="ttc" id="astruct_init_rd_header_html_a2782ae68b509f2b12e12a5a6687c95e8"><div class="ttname"><a href="struct_init_rd_header.html#a2782ae68b509f2b12e12a5a6687c95e8">InitRdHeader::m_nFiles</a></div><div class="ttdeci">int m_nFiles</div><div class="ttdef"><b>Definition:</b> vfs.h:104</div></div>
<div class="ttc" id="avfs_8h_html_a0701322b74a42bfa05ca3fe3d7f513c0"><div class="ttname"><a href="vfs_8h.html#a0701322b74a42bfa05ca3fe3d7f513c0">FileNode</a></div><div class="ttdeci">struct FSNodeS FileNode</div></div>
<div class="ttc" id="avfs_8h_html_a0a8e4000f62062cdd846a9dfd6bcc576"><div class="ttname"><a href="vfs_8h.html#a0a8e4000f62062cdd846a9dfd6bcc576">FiTellSize</a></div><div class="ttdeci">int FiTellSize(int fd)</div><div class="ttdef"><b>Definition:</b> vfs.c:331</div></div>
<div class="ttc" id="avfs_8h_html_a123f0f44f0db98febc248b0a2ee3912a"><div class="ttname"><a href="vfs_8h.html#a123f0f44f0db98febc248b0a2ee3912a">FileFindDirFunc</a></div><div class="ttdeci">struct FSNodeS *(* FileFindDirFunc)(struct FSNodeS *, const char *pName)</div><div class="ttdef"><b>Definition:</b> vfs.h:47</div></div>
<div class="ttc" id="avfs_8h_html_a17f6e7071a16e4c7185b3c7f2dd70eac"><div class="ttname"><a href="vfs_8h.html#a17f6e7071a16e4c7185b3c7f2dd70eac">FsGetRootNode</a></div><div class="ttdeci">FileNode * FsGetRootNode()</div><div class="ttdef"><b>Definition:</b> initrd.c:188</div></div>
<div class="ttc" id="avfs_8h_html_a185e2d70291c88235f1ddf43cd1c727a"><div class="ttname"><a href="vfs_8h.html#a185e2d70291c88235f1ddf43cd1c727a">FiWrite</a></div><div class="ttdeci">size_t FiWrite(int fd, void *pBuf, int nBytes)</div><div class="ttdef"><b>Definition:</b> vfs.c:290</div></div>
<div class="ttc" id="avfs_8h_html_a3458c9189ec25ef83bbbe22279281c73"><div class="ttname"><a href="vfs_8h.html#a3458c9189ec25ef83bbbe22279281c73">FsWrite</a></div><div class="ttdeci">uint32_t FsWrite(FileNode *pNode, uint32_t offset, uint32_t size, void *pBuffer)</div><div class="ttdef"><b>Definition:</b> vfs.c:32</div></div>
<div class="ttc" id="avfs_8h_html_a3963475be1853e618065f61b3bd4a2fd"><div class="ttname"><a href="vfs_8h.html#a3963475be1853e618065f61b3bd4a2fd">FileReadDirFunc</a></div><div class="ttdeci">struct DirEntS *(* FileReadDirFunc)(struct FSNodeS *, uint32_t)</div><div class="ttdef"><b>Definition:</b> vfs.h:46</div></div>
<div class="ttc" id="avfs_8h_html_a3ee5de4ef00d5f44e04b901ab6b0bc7f"><div class="ttname"><a href="vfs_8h.html#a3ee5de4ef00d5f44e04b901ab6b0bc7f">FileWriteFunc</a></div><div class="ttdeci">uint32_t(* FileWriteFunc)(struct FSNodeS *, uint32_t, uint32_t, void *)</div><div class="ttdef"><b>Definition:</b> vfs.h:41</div></div>
<div class="ttc" id="avfs_8h_html_a465fbdbf4148508acc73082bf5a2f419"><div class="ttname"><a href="vfs_8h.html#a465fbdbf4148508acc73082bf5a2f419">FileOpenFunc</a></div><div class="ttdeci">bool(* FileOpenFunc)(struct FSNodeS *, bool, bool)</div><div class="ttdef"><b>Definition:</b> vfs.h:42</div></div>
<div class="ttc" id="avfs_8h_html_a4a566878b5c5689316860d8d39dec392"><div class="ttname"><a href="vfs_8h.html#a4a566878b5c5689316860d8d39dec392">FiDebugDump</a></div><div class="ttdeci">void FiDebugDump()</div><div class="ttdef"><b>Definition:</b> vfs.c:182</div></div>
<div class="ttc" id="avfs_8h_html_a4bd59005da70432710d9d93faf25ba46"><div class="ttname"><a href="vfs_8h.html#a4bd59005da70432710d9d93faf25ba46">FsGetInitrdNode</a></div><div class="ttdeci">FileNode * FsGetInitrdNode()</div></div>
<div class="ttc" id="avfs_8h_html_a5d76b81b0ad4c19007a781d4edb8181fa0191be5a8b35e30991789c9fe4b2c4cf"><div class="ttname"><a href="vfs_8h.html#a5d76b81b0ad4c19007a781d4edb8181fa0191be5a8b35e30991789c9fe4b2c4cf">EMFILE</a></div><div class="ttdeci">@ EMFILE</div><div class="ttdef"><b>Definition:</b> vfs.h:153</div></div>
<div class="ttc" id="avfs_8h_html_a5d76b81b0ad4c19007a781d4edb8181fa1c0d17ac093eff038b479dba021361bb"><div class="ttname"><a href="vfs_8h.html#a5d76b81b0ad4c19007a781d4edb8181fa1c0d17ac093eff038b479dba021361bb">ENXIO</a></div><div class="ttdeci">@ ENXIO</div><div class="ttdef"><b>Definition:</b> vfs.h:160</div></div>
<div class="ttc" id="avfs_8h_html_a5d76b81b0ad4c19007a781d4edb8181fa1fa64bffde8dd0d6a8dcc1ce94e1eb63"><div class="ttname"><a href="vfs_8h.html#a5d76b81b0ad4c19007a781d4edb8181fa1fa64bffde8dd0d6a8dcc1ce94e1eb63">ENOTHING</a></div><div class="ttdeci">@ ENOTHING</div><div class="ttdef"><b>Definition:</b> vfs.h:145</div></div>
<div class="ttc" id="avfs_8h_html_a5d76b81b0ad4c19007a781d4edb8181fa2b5265f4c8556b15ec913f61caade1eb"><div class="ttname"><a href="vfs_8h.html#a5d76b81b0ad4c19007a781d4edb8181fa2b5265f4c8556b15ec913f61caade1eb">ENOSPC</a></div><div class="ttdeci">@ ENOSPC</div><div class="ttdef"><b>Definition:</b> vfs.h:158</div></div>
<div class="ttc" id="avfs_8h_html_a5d76b81b0ad4c19007a781d4edb8181fa4bde0de54c0b708a605ed5095959c14e"><div class="ttname"><a href="vfs_8h.html#a5d76b81b0ad4c19007a781d4edb8181fa4bde0de54c0b708a605ed5095959c14e">EAGAIN</a></div><div class="ttdeci">@ EAGAIN</div><div class="ttdef"><b>Definition:</b> vfs.h:163</div></div>
<div class="ttc" id="avfs_8h_html_a5d76b81b0ad4c19007a781d4edb8181fa523e02a73d840e490c14a179a997627e"><div class="ttname"><a href="vfs_8h.html#a5d76b81b0ad4c19007a781d4edb8181fa523e02a73d840e490c14a179a997627e">EEXIST</a></div><div class="ttdeci">@ EEXIST</div><div class="ttdef"><b>Definition:</b> vfs.h:147</div></div>
<div class="ttc" id="avfs_8h_html_a5d76b81b0ad4c19007a781d4edb8181fa56198247acea7520ae5c6005fbe76a31"><div class="ttname"><a href="vfs_8h.html#a5d76b81b0ad4c19007a781d4edb8181fa56198247acea7520ae5c6005fbe76a31">EROFS</a></div><div class="ttdeci">@ EROFS</div><div class="ttdef"><b>Definition:</b> vfs.h:162</div></div>
<div class="ttc" id="avfs_8h_html_a5d76b81b0ad4c19007a781d4edb8181fa5fa7d65262e81125cecb27e80a26ce98"><div class="ttname"><a href="vfs_8h.html#a5d76b81b0ad4c19007a781d4edb8181fa5fa7d65262e81125cecb27e80a26ce98">EACCES</a></div><div class="ttdeci">@ EACCES</div><div class="ttdef"><b>Definition:</b> vfs.h:146</div></div>
<div class="ttc" id="avfs_8h_html_a5d76b81b0ad4c19007a781d4edb8181fa69f5babc32dadf40b348312b714ba7b7"><div class="ttname"><a href="vfs_8h.html#a5d76b81b0ad4c19007a781d4edb8181fa69f5babc32dadf40b348312b714ba7b7">ENOSR</a></div><div class="ttdeci">@ ENOSR</div><div class="ttdef"><b>Definition:</b> vfs.h:157</div></div>
<div class="ttc" id="avfs_8h_html_a5d76b81b0ad4c19007a781d4edb8181fa6a73363cf3fa4dc0d77c4cb3b9d83321"><div class="ttname"><a href="vfs_8h.html#a5d76b81b0ad4c19007a781d4edb8181fa6a73363cf3fa4dc0d77c4cb3b9d83321">EISDIR</a></div><div class="ttdeci">@ EISDIR</div><div class="ttdef"><b>Definition:</b> vfs.h:151</div></div>
<div class="ttc" id="avfs_8h_html_a5d76b81b0ad4c19007a781d4edb8181fa6d2c32b1730ea078f2802b34b1258a4c"><div class="ttname"><a href="vfs_8h.html#a5d76b81b0ad4c19007a781d4edb8181fa6d2c32b1730ea078f2802b34b1258a4c">EIO</a></div><div class="ttdeci">@ EIO</div><div class="ttdef"><b>Definition:</b> vfs.h:150</div></div>
<div class="ttc" id="avfs_8h_html_a5d76b81b0ad4c19007a781d4edb8181fa7bfd237190819a0a272db7b0aa61d5c8"><div class="ttname"><a href="vfs_8h.html#a5d76b81b0ad4c19007a781d4edb8181fa7bfd237190819a0a272db7b0aa61d5c8">EINVAL</a></div><div class="ttdeci">@ EINVAL</div><div class="ttdef"><b>Definition:</b> vfs.h:149</div></div>
<div class="ttc" id="avfs_8h_html_a5d76b81b0ad4c19007a781d4edb8181fa87d4476eed38f45439e257081c9de369"><div class="ttname"><a href="vfs_8h.html#a5d76b81b0ad4c19007a781d4edb8181fa87d4476eed38f45439e257081c9de369">EBADF</a></div><div class="ttdeci">@ EBADF</div><div class="ttdef"><b>Definition:</b> vfs.h:166</div></div>
<div class="ttc" id="avfs_8h_html_a5d76b81b0ad4c19007a781d4edb8181fa8cc241d56d59d11ceea8efc37bec8ed4"><div class="ttname"><a href="vfs_8h.html#a5d76b81b0ad4c19007a781d4edb8181fa8cc241d56d59d11ceea8efc37bec8ed4">EINTR</a></div><div class="ttdeci">@ EINTR</div><div class="ttdef"><b>Definition:</b> vfs.h:148</div></div>
<div class="ttc" id="avfs_8h_html_a5d76b81b0ad4c19007a781d4edb8181fa8cd7a7b948ee085bbaeb2a210b412d6e"><div class="ttname"><a href="vfs_8h.html#a5d76b81b0ad4c19007a781d4edb8181fa8cd7a7b948ee085bbaeb2a210b412d6e">ENOTDIR</a></div><div class="ttdeci">@ ENOTDIR</div><div class="ttdef"><b>Definition:</b> vfs.h:159</div></div>
<div class="ttc" id="avfs_8h_html_a5d76b81b0ad4c19007a781d4edb8181fa996f6f948b613bccc738ff8517413c1a"><div class="ttname"><a href="vfs_8h.html#a5d76b81b0ad4c19007a781d4edb8181fa996f6f948b613bccc738ff8517413c1a">ENOENT</a></div><div class="ttdeci">@ ENOENT</div><div class="ttdef"><b>Definition:</b> vfs.h:156</div></div>
<div class="ttc" id="avfs_8h_html_a5d76b81b0ad4c19007a781d4edb8181fa9e5433f0863ce3470329184a3ee495a7"><div class="ttname"><a href="vfs_8h.html#a5d76b81b0ad4c19007a781d4edb8181fa9e5433f0863ce3470329184a3ee495a7">ESPIPE</a></div><div class="ttdeci">@ ESPIPE</div><div class="ttdef"><b>Definition:</b> vfs.h:167</div></div>
<div class="ttc" id="avfs_8h_html_a5d76b81b0ad4c19007a781d4edb8181fabf7123a05c2949f1ca60f7531a98eac5"><div class="ttname"><a href="vfs_8h.html#a5d76b81b0ad4c19007a781d4edb8181fabf7123a05c2949f1ca60f7531a98eac5">ENAMETOOLONG</a></div><div class="ttdeci">@ ENAMETOOLONG</div><div class="ttdef"><b>Definition:</b> vfs.h:154</div></div>
<div class="ttc" id="avfs_8h_html_a5d76b81b0ad4c19007a781d4edb8181fac39a4aaab7efc4f82deef26b159f650c"><div class="ttname"><a href="vfs_8h.html#a5d76b81b0ad4c19007a781d4edb8181fac39a4aaab7efc4f82deef26b159f650c">ELOOP</a></div><div class="ttdeci">@ ELOOP</div><div class="ttdef"><b>Definition:</b> vfs.h:152</div></div>
<div class="ttc" id="avfs_8h_html_a5d76b81b0ad4c19007a781d4edb8181faca0f39f6e98ddddb61280b52e5019811"><div class="ttname"><a href="vfs_8h.html#a5d76b81b0ad4c19007a781d4edb8181faca0f39f6e98ddddb61280b52e5019811">EOVERFLOW</a></div><div class="ttdeci">@ EOVERFLOW</div><div class="ttdef"><b>Definition:</b> vfs.h:161</div></div>
<div class="ttc" id="avfs_8h_html_a5d76b81b0ad4c19007a781d4edb8181faec0aa1bb79e2e55ed6d8c165e0611eca"><div class="ttname"><a href="vfs_8h.html#a5d76b81b0ad4c19007a781d4edb8181faec0aa1bb79e2e55ed6d8c165e0611eca">ENOMEM</a></div><div class="ttdeci">@ ENOMEM</div><div class="ttdef"><b>Definition:</b> vfs.h:164</div></div>
<div class="ttc" id="avfs_8h_html_a5d76b81b0ad4c19007a781d4edb8181faf8ee28f2eeab568a1b641f6ffc1f90a8"><div class="ttname"><a href="vfs_8h.html#a5d76b81b0ad4c19007a781d4edb8181faf8ee28f2eeab568a1b641f6ffc1f90a8">ENFILE</a></div><div class="ttdeci">@ ENFILE</div><div class="ttdef"><b>Definition:</b> vfs.h:155</div></div>
<div class="ttc" id="avfs_8h_html_a5d76b81b0ad4c19007a781d4edb8181fafe2a394fdb8f6a0e1caf72cc144132e6"><div class="ttname"><a href="vfs_8h.html#a5d76b81b0ad4c19007a781d4edb8181fafe2a394fdb8f6a0e1caf72cc144132e6">ETXTBUSY</a></div><div class="ttdeci">@ ETXTBUSY</div><div class="ttdef"><b>Definition:</b> vfs.h:165</div></div>
<div class="ttc" id="avfs_8h_html_a5f31add111887e8a2e50e7857609fe20"><div class="ttname"><a href="vfs_8h.html#a5f31add111887e8a2e50e7857609fe20">FileOpenDirFunc</a></div><div class="ttdeci">bool(* FileOpenDirFunc)(struct FSNodeS *)</div><div class="ttdef"><b>Definition:</b> vfs.h:44</div></div>
<div class="ttc" id="avfs_8h_html_a5f96b3007af00560c60df20b902e35aa"><div class="ttname"><a href="vfs_8h.html#a5f96b3007af00560c60df20b902e35aa">FsOpenDir</a></div><div class="ttdeci">bool FsOpenDir(FileNode *pNode)</div><div class="ttdef"><b>Definition:</b> vfs.c:83</div></div>
<div class="ttc" id="avfs_8h_html_a674488c3a7e64be720996c017d18c1df"><div class="ttname"><a href="vfs_8h.html#a674488c3a7e64be720996c017d18c1df">FileCloseFunc</a></div><div class="ttdeci">void(* FileCloseFunc)(struct FSNodeS *)</div><div class="ttdef"><b>Definition:</b> vfs.h:43</div></div>
<div class="ttc" id="avfs_8h_html_a6f9ea039ec822f7e2451ebf0a338f276"><div class="ttname"><a href="vfs_8h.html#a6f9ea039ec822f7e2451ebf0a338f276">FiSeek</a></div><div class="ttdeci">int FiSeek(int fd, int offset, int whence)</div><div class="ttdef"><b>Definition:</b> vfs.c:302</div></div>
<div class="ttc" id="avfs_8h_html_a70273cfbecbd1a756a661d8bee8b08c0"><div class="ttname"><a href="vfs_8h.html#a70273cfbecbd1a756a661d8bee8b08c0">FsInitializeInitRd</a></div><div class="ttdeci">void FsInitializeInitRd(void *pRamDisk)</div><div class="ttdef"><b>Definition:</b> initrd.c:229</div></div>
<div class="ttc" id="avfs_8h_html_a86c1d1be60cbdae607028eedd3d465f6"><div class="ttname"><a href="vfs_8h.html#a86c1d1be60cbdae607028eedd3d465f6">FsReadDir</a></div><div class="ttdeci">DirEnt * FsReadDir(FileNode *pNode, uint32_t index)</div><div class="ttdef"><b>Definition:</b> vfs.c:63</div></div>
<div class="ttc" id="avfs_8h_html_a8e7d5799729647c01b31d67ceadc2c7a"><div class="ttname"><a href="vfs_8h.html#a8e7d5799729647c01b31d67ceadc2c7a">FsClose</a></div><div class="ttdeci">void FsClose(FileNode *pNode)</div><div class="ttdef"><b>Definition:</b> vfs.c:55</div></div>
<div class="ttc" id="avfs_8h_html_aa4cc38253c1dc55e3a046c3530b6dd76"><div class="ttname"><a href="vfs_8h.html#aa4cc38253c1dc55e3a046c3530b6dd76">FsFindDir</a></div><div class="ttdeci">FileNode * FsFindDir(FileNode *pNode, const char *pName)</div><div class="ttdef"><b>Definition:</b> vfs.c:73</div></div>
<div class="ttc" id="avfs_8h_html_aa8e7646094628aa27c1468f7d3fae29f"><div class="ttname"><a href="vfs_8h.html#aa8e7646094628aa27c1468f7d3fae29f">FileReadFunc</a></div><div class="ttdeci">uint32_t(* FileReadFunc)(struct FSNodeS *, uint32_t, uint32_t, void *)</div><div class="ttdef"><b>Definition:</b> vfs.h:40</div></div>
<div class="ttc" id="avfs_8h_html_aabfcbcb5ac86a1edac4035264bc7d2b8a0fa88135dba520076ded539764367d2c"><div class="ttname"><a href="vfs_8h.html#aabfcbcb5ac86a1edac4035264bc7d2b8a0fa88135dba520076ded539764367d2c">FILE_TYPE_FILE</a></div><div class="ttdeci">@ FILE_TYPE_FILE</div><div class="ttdef"><b>Definition:</b> vfs.h:28</div></div>
<div class="ttc" id="avfs_8h_html_aabfcbcb5ac86a1edac4035264bc7d2b8a4c8d510546410bd6bec4a7ce23d1843a"><div class="ttname"><a href="vfs_8h.html#aabfcbcb5ac86a1edac4035264bc7d2b8a4c8d510546410bd6bec4a7ce23d1843a">FILE_TYPE_MOUNTPOINT</a></div><div class="ttdeci">@ FILE_TYPE_MOUNTPOINT</div><div class="ttdef"><b>Definition:</b> vfs.h:32</div></div>
<div class="ttc" id="avfs_8h_html_aabfcbcb5ac86a1edac4035264bc7d2b8a5b319bd179eb63c1ccfb04fdb6e44c68"><div class="ttname"><a href="vfs_8h.html#aabfcbcb5ac86a1edac4035264bc7d2b8a5b319bd179eb63c1ccfb04fdb6e44c68">FILE_TYPE_CHAR_DEVICE</a></div><div class="ttdeci">@ FILE_TYPE_CHAR_DEVICE</div><div class="ttdef"><b>Definition:</b> vfs.h:29</div></div>
<div class="ttc" id="avfs_8h_html_aabfcbcb5ac86a1edac4035264bc7d2b8a7ffdb30f25ede8af4426c8619eaf4e7d"><div class="ttname"><a href="vfs_8h.html#aabfcbcb5ac86a1edac4035264bc7d2b8a7ffdb30f25ede8af4426c8619eaf4e7d">FILE_TYPE_NONE</a></div><div class="ttdeci">@ FILE_TYPE_NONE</div><div class="ttdef"><b>Definition:</b> vfs.h:27</div></div>
<div class="ttc" id="avfs_8h_html_aabfcbcb5ac86a1edac4035264bc7d2b8ab47aa0fdf5ad0deb5351543546e9a0af"><div class="ttname"><a href="vfs_8h.html#aabfcbcb5ac86a1edac4035264bc7d2b8ab47aa0fdf5ad0deb5351543546e9a0af">FILE_TYPE_BLOCK_DEVICE</a></div><div class="ttdeci">@ FILE_TYPE_BLOCK_DEVICE</div><div class="ttdef"><b>Definition:</b> vfs.h:30</div></div>
<div class="ttc" id="avfs_8h_html_aabfcbcb5ac86a1edac4035264bc7d2b8ac14b3e526f285e88c958a671141f1e02"><div class="ttname"><a href="vfs_8h.html#aabfcbcb5ac86a1edac4035264bc7d2b8ac14b3e526f285e88c958a671141f1e02">FILE_TYPE_DIRECTORY</a></div><div class="ttdeci">@ FILE_TYPE_DIRECTORY</div><div class="ttdef"><b>Definition:</b> vfs.h:31</div></div>
<div class="ttc" id="avfs_8h_html_aad3273e66621d12918a0ce19ac026cb1"><div class="ttname"><a href="vfs_8h.html#aad3273e66621d12918a0ce19ac026cb1">FiTell</a></div><div class="ttdeci">int FiTell(int fd)</div><div class="ttdef"><b>Definition:</b> vfs.c:325</div></div>
<div class="ttc" id="avfs_8h_html_ab5aec68cc62972222d9a98525f5bf3ba"><div class="ttname"><a href="vfs_8h.html#ab5aec68cc62972222d9a98525f5bf3ba">FsRead</a></div><div class="ttdeci">uint32_t FsRead(FileNode *pNode, uint32_t offset, uint32_t size, void *pBuffer)</div><div class="ttdef"><b>Definition:</b> vfs.c:22</div></div>
<div class="ttc" id="avfs_8h_html_abd605f590abb18ccadd26c90a49fc099"><div class="ttname"><a href="vfs_8h.html#abd605f590abb18ccadd26c90a49fc099">FsResolvePath</a></div><div class="ttdeci">FileNode * FsResolvePath(const char *pPath)</div><div class="ttdef"><b>Definition:</b> vfs.c:102</div></div>
<div class="ttc" id="avfs_8h_html_abe2b0a3c2fabe11b21109d48e0b9c803"><div class="ttname"><a href="vfs_8h.html#abe2b0a3c2fabe11b21109d48e0b9c803">FsOpen</a></div><div class="ttdeci">bool FsOpen(FileNode *pNode, bool read, bool write)</div><div class="ttdef"><b>Definition:</b> vfs.c:44</div></div>
<div class="ttc" id="avfs_8h_html_ac0bed5c96632ba6968926a22da75194f"><div class="ttname"><a href="vfs_8h.html#ac0bed5c96632ba6968926a22da75194f">FiRead</a></div><div class="ttdeci">size_t FiRead(int fd, void *pBuf, int nBytes)</div><div class="ttdef"><b>Definition:</b> vfs.c:277</div></div>
<div class="ttc" id="avfs_8h_html_ad9de2a8c6b4f560c68f6c69fb4b01614"><div class="ttname"><a href="vfs_8h.html#ad9de2a8c6b4f560c68f6c69fb4b01614">FileCloseDirFunc</a></div><div class="ttdeci">void(* FileCloseDirFunc)(struct FSNodeS *)</div><div class="ttdef"><b>Definition:</b> vfs.h:45</div></div>
<div class="ttc" id="avfs_8h_html_add85e375b71b05582868c7f65dbac0c4"><div class="ttname"><a href="vfs_8h.html#add85e375b71b05582868c7f65dbac0c4">FiClose</a></div><div class="ttdeci">int FiClose(int fd)</div><div class="ttdef"><b>Definition:</b> vfs.c:260</div></div>
<div class="ttc" id="avfs_8h_html_aecc04b164c0fa69af3407b8d94910ea4"><div class="ttname"><a href="vfs_8h.html#aecc04b164c0fa69af3407b8d94910ea4">DirEnt</a></div><div class="ttdeci">struct DirEntS DirEnt</div></div>
<div class="ttc" id="avfs_8h_html_aef47a52e5ac5d6a4cf0cfdd9b5dd7a35"><div class="ttname"><a href="vfs_8h.html#aef47a52e5ac5d6a4cf0cfdd9b5dd7a35">FiOpenD</a></div><div class="ttdeci">int FiOpenD(const char *pFileName, int oflag, const char *srcFile, int srcLine)</div><div class="ttdef"><b>Definition:</b> vfs.c:213</div></div>
<div class="ttc" id="avfs_8h_html_afbf42c4c6ee78b17424ffe410fe1030a"><div class="ttname"><a href="vfs_8h.html#afbf42c4c6ee78b17424ffe410fe1030a">FsCloseDir</a></div><div class="ttdeci">void FsCloseDir(FileNode *pNode)</div><div class="ttdef"><b>Definition:</b> vfs.c:93</div></div>
</div><!-- fragment --></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_d44c64559bbebec7f509842c48db8b23.html">include</a></li><li class="navelem"><a class="el" href="vfs_8h.html">vfs.h</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.3 </li>
  </ul>
</div>
</body>
</html>
